{% extends "base.html" %}
{% block content %}
<h2>Customers</h2>

<form method="POST">
    <input type="text" name="name" placeholder="Customer Name" value="{{ customer_to_edit.name if customer_to_edit }}">
    <input type="text" name="contact" placeholder="Contact" value="{{ customer_to_edit.contact if customer_to_edit }}">
    <input type="date" name="due_date" value="{{ customer_to_edit.due_date if customer_to_edit }}">
    <select name="status">
        <option value="Active" {% if customer_to_edit.status == 'Active' %}selected{% endif %}>Active</option>
        <option value="Inactive" {% if customer_to_edit.status == 'Inactive' %}selected{% endif %}>Inactive</option>
    </select>
    <button type="submit">{{ 'Update' if customer_to_edit else 'Add' }}</button>
</form>

<table>
    <tr>
        <th>Name</th>
        <th>Contact</th>
        <th>Due Date</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    {% for customer in customers %}
    <tr>
        <td>{{ customer.name }}</td>
        <td>{{ customer.contact }}</td>
        <td>{{ customer.due_date }}</td>
        <td>{{ customer.status }}</td>
        <td>
            <a href="{{ url_for('manage_customers', customer_id=customer.id) }}">Edit</a> |
            <a href="{{ url_for('delete_customer', customer_id=customer.id) }}">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
